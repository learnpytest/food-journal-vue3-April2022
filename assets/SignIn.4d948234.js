import{P as S}from"./PrimaryButtonLarge.2c6c40d0.js";import{h as I,_ as k,u as $,L as g,l as B,r as L,a as c,o as y,c as x,b as s,d as _,e as m,w as h,v,n as w,f as i,g as C,p as F,i as P,j as f,k as V}from"./index.f509b26a.js";var b={signIn:async(e,o)=>await I.post("/auth/login",{email:e,password:o})};const T={name:"SigningForm",components:{PrimaryButtonLarge:S},setup(){const e=$();localStorage.getItem(g)&&e.push("/");const o=B({email:"",password:"",isLoading:!1}),t=L("\u767B\u5165\u5931\u6557");return{user:o,errorMsg:t,signIn:async()=>{if(!o.email||!o.password){t.value="\u6C92\u6709\u8F38\u5165\u8CC7\u6599",alert(t.value);return}try{const a=await b.signIn(o.email,o.password),{statusText:u,data:r}=a;console.log(a),u==="OK"&&r.access_token&&(alert("\u767B\u5165\u6210\u529F"),localStorage.setItem(g,r.access_token),e.push("/"))}catch(a){console.log(a),alert(t.value)}}}}},d=e=>(F("data-v-3cff50fc"),e=e(),P(),e),U={class:"form"},A={class:"form__header"},E={class:"form__group"},M=d(()=>s("label",{for:"email"},"\u4FE1\u7BB1",-1)),N=d(()=>s("div",null,null,-1)),O={class:"form__group"},K=d(()=>s("label",{for:"password"},"\u5BC6\u78BC",-1)),R=d(()=>s("div",null,null,-1)),j=f("\u767B\u5165"),z={class:"form__links"};function D(e,o,t,n,a,u){const r=c("font-awesome-icon"),p=c("PrimaryButtonLarge");return y(),x("form",U,[s("div",A,[_(r,{class:"form__logo",icon:["fas","utensils"]}),m(e.$slots,"header",{},void 0,!0)]),s("div",E,[M,h(s("input",{type:"email",id:"email",name:"email",class:w(["form__input"]),"onUpdate:modelValue":o[0]||(o[0]=l=>n.user.email=l)},null,512),[[v,n.user.email]]),N]),s("div",O,[K,h(s("input",{type:"password",id:"password",name:"password",class:w(["form__input"]),"onUpdate:modelValue":o[1]||(o[1]=l=>n.user.password=l)},null,512),[[v,n.user.password]]),R]),_(p,{onClick:C(n.signIn,["stop","prevent"])},{default:i(()=>[j]),_:1},8,["onClick"]),s("div",z,[m(e.$slots,"register",{},void 0,!0),m(e.$slots,"login",{},void 0,!0)])])}var G=k(T,[["render",D],["__scopeId","data-v-3cff50fc"]]);const J={name:"SignUp",components:{SigningForm:G,PrimaryButtonLarge:S},setup(){}},Y=s("h1",null,"Food Journal",-1),q=f("Sign Up "),H=f("\u767B\u5165 ");function Q(e,o,t,n,a,u){const r=c("router-link"),p=c("PrimaryButtonLarge"),l=c("SigningForm");return y(),V(l,null,{header:i(()=>[Y]),register:i(()=>[_(r,{class:"link--login",to:{name:"sign-up"}},{default:i(()=>[q]),_:1})]),button:i(()=>[_(p,null,{default:i(()=>[H]),_:1})]),_:1})}var Z=k(J,[["render",Q]]);export{Z as default};
